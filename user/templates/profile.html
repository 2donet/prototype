{% extends "base.html" %}
{% block title %}{{ user.username }} | Profile {% endblock %}
{% block content %}
{% load static %}
{% load humanize %}

<div class="profile-container">
    <!-- Profile Header with Background Image -->
    <div class="profile-header">
        <div class="profile-cover" style="background-image: url('/static/images/default-cover.jpg');">
        <div class="profile-avatar-container">
            {% if user_profile.avatar %}
                <img class="profile-avatar" src="{{ user_profile.avatar.url }}" alt="{{ user.username }}">
            {% else %}
                <img class="profile-avatar" src="{% static 'icons/default-avatar.svg' %}" alt="{{ user.username }}">
            {% endif %}
        </div>
        </div>
        
        <div class="profile-header-content">
            <div class="profile-info">
                <h1 class="profile-name">{{ user.username|default:"JaneDoe123" }}</h1>
                <p class="profile-tagline">{{ user_profile.tagline|default:"Full Stack Developer | Open Source Enthusiast" }}</p>
                
                <div class="profile-stats">
                    <div class="stat">
                        <span class="stat-value">{{ user_profile.total_projects|default:"12" }}</span>
                        <span class="stat-label">Projects</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">{{ user_profile.total_tasks|default:"47" }}</span>
                        <span class="stat-label">Tasks</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">{{ user_profile.total_comments|default:"153" }}</span>
                        <span class="stat-label">Comments</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">{{ user_profile.join_date|default:"2 months ago" }}</span>
                        <span class="stat-label">Joined</span>
                    </div>
                </div>
            </div>
            
            <div class="profile-actions">
                {% if request.user.is_authenticated and request.user.id != user.id %}
                <a href="/messages/{{ user.username }}/" class="btn waves-effect waves-light">
                    <i class="material-icons left">email</i>Message
                </a>
                {% endif %}
                
                {% if request.user.id == user.id or request.user.is_staff %}
                <a href="/u/{{ user.id }}/edit/" class="btn waves-effect waves-light">
                    <i class="material-icons left">edit</i>Edit Profile
                </a>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="profile-content">
        <div class="profile-sidebar">
            <!-- About Section -->
            <div class="card">
                <div class="card-content">
                    <span class="card-title">About</span>
                    <p class="profile-bio">{{ user_profile.bio|default:"Software developer with 5+ years of experience in web development. Passionate about open-source projects and building tools that help people collaborate more effectively. Currently working on improving collaborative project management systems." }}</p>
                    
                    <div class="profile-details">
                        <div class="profile-detail">
                            <i class="material-icons">location_on</i>
                            <span>{{ user_profile.location|default:"Warsaw, Poland" }}</span>
                        </div>
                        
                        <div class="profile-detail">
                            <i class="material-icons">link</i>
                            <a href="{{ user_profile.website|default:'https://github.com/janedoe' }}" target="_blank" rel="noopener">{{ user_profile.website|default:"github.com/janedoe" }}</a>
                        </div>
                        
                        <div class="profile-detail">
                            <i class="material-icons">calendar_today</i>
                            <span>Member since {{ user.date_joined|default:"January 2024" }}</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Skills Section -->
            <div class="card">
                <div class="card-content">
                    <span class="card-title">Skills</span>
                    
                    <div class="skills-container">
                        <!-- Example skill 1 -->
                        <div class="skill-item">
                            <div class="skill-header">
                                <span class="skill-name">Python</span>
                                <span class="skill-level">32 endorsements</span>
                            </div>
                            <div class="skill-bar-container">
                                <div class="skill-bar" style="width: 85%"></div>
                            </div>
                            <div class="skill-validation">
                                <span class="validation-count">47 contributions</span>
                                <div class="validation-distribution">
                                    <div class="distribution-bar" style="height: 12px"></div>
                                    <div class="distribution-bar" style="height: 16px"></div>
                                    <div class="distribution-bar" style="height: 10px"></div>
                                    <div class="distribution-bar" style="height: 14px"></div>
                                    <div class="distribution-bar" style="height: 18px"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Example skill 2 -->
                        <div class="skill-item">
                            <div class="skill-header">
                                <span class="skill-name">JavaScript</span>
                                <span class="skill-level">28 endorsements</span>
                            </div>
                            <div class="skill-bar-container">
                                <div class="skill-bar" style="width: 75%"></div>
                            </div>
                            <div class="skill-validation">
                                <span class="validation-count">35 contributions</span>
                                <div class="validation-distribution">
                                    <div class="distribution-bar" style="height: 10px"></div>
                                    <div class="distribution-bar" style="height: 14px"></div>
                                    <div class="distribution-bar" style="height: 18px"></div>
                                    <div class="distribution-bar" style="height: 12px"></div>
                                    <div class="distribution-bar" style="height: 8px"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Example skill 3 -->
                        <div class="skill-item">
                            <div class="skill-header">
                                <span class="skill-name">UI/UX Design</span>
                                <span class="skill-level">15 endorsements</span>
                            </div>
                            <div class="skill-bar-container">
                                <div class="skill-bar" style="width: 60%"></div>
                            </div>
                            <div class="skill-validation">
                                <span class="validation-count">23 contributions</span>
                                <div class="validation-distribution">
                                    <div class="distribution-bar" style="height: 9px"></div>
                                    <div class="distribution-bar" style="height: 12px"></div>
                                    <div class="distribution-bar" style="height: 7px"></div>
                                    <div class="distribution-bar" style="height: 10px"></div>
                                    <div class="distribution-bar" style="height: 14px"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Example skill 4 -->
                        <div class="skill-item">
                            <div class="skill-header">
                                <span class="skill-name">Django</span>
                                <span class="skill-level">19 endorsements</span>
                            </div>
                            <div class="skill-bar-container">
                                <div class="skill-bar" style="width: 70%"></div>
                            </div>
                            <div class="skill-validation">
                                <span class="validation-count">28 contributions</span>
                                <div class="validation-distribution">
                                    <div class="distribution-bar" style="height: 11px"></div>
                                    <div class="distribution-bar" style="height: 15px"></div>
                                    <div class="distribution-bar" style="height: 8px"></div>
                                    <div class="distribution-bar" style="height: 13px"></div>
                                    <div class="distribution-bar" style="height: 10px"></div>
                                </div>
                            </div>
                        </div>
                        
                        {% if request.user.id == user.id or request.user.is_staff %}
                        <a href="/u/{{ user.id }}/skills/edit/" class="btn-flat waves-effect waves-teal add-skills">
                            <i class="material-icons left">add</i>Add Skills
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Badges & Achievements -->
            <div class="card">
                <div class="card-content">
                    <span class="card-title">Badges & Achievements</span>
                    
                    <div class="badges-container">
                        <!-- Example badge 1 -->
                        <div class="badge-item tooltip" data-tooltip="Completed 10 tasks on time">
                            <div class="badge-icon">🏆</div>
                            <div class="badge-name">Task Master</div>
                        </div>
                        
                        <!-- Example badge 2 -->
                        <div class="badge-item tooltip" data-tooltip="Received 50+ upvotes on comments">
                            <div class="badge-icon">💬</div>
                            <div class="badge-name">Communicator</div>
                        </div>
                        
                        <!-- Example badge 3 -->
                        <div class="badge-item tooltip" data-tooltip="Created 5+ projects">
                            <div class="badge-icon">🚀</div>
                            <div class="badge-name">Innovator</div>
                        </div>
                        
                        <!-- Example badge 4 -->
                        <div class="badge-item tooltip" data-tooltip="1 year of continuous contributions">
                            <div class="badge-icon">🔥</div>
                            <div class="badge-name">Dedicated</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="profile-main">
            <!-- Tabs Navigation -->
            <div class="profile-tabs-container">
                <ul class="tabs profile-tabs">
                    <li class="tab"><a class="active" href="#activity">Activity</a></li>
                    <li class="tab"><a href="#projects">Projects</a></li>
                    <li class="tab"><a href="#posts">Posts</a></li>
                    <li class="tab"><a href="#comments">Comments</a></li>
                </ul>
            </div>
            
            <!-- Activity Tab -->
            <div id="activity" class="tab-content">
                {%include "components/profile/activity.html" %}

            </div>
            
            <!-- Projects Tab -->
            <div id="projects" class="tab-content">
                {% include "components/profile/projects.html" %}
                
                
            </div>
            
            <!-- Posts Tab -->
            <div id="posts" class="tab-content">
                {% include "components/profile/posts.html" %}
            </div>
            
            <!-- Comments Tab -->
            <div id="comments" class="tab-content">
                {% include "components/profile/comments.html" %}
            </div>
        </div>
    </div>
</div>



{% endblock %}